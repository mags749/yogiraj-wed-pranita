var config={apiKey:"AIzaSyAmhEHzcGgAZ8iMDuL9H3g0bs43_yCs21M",authDomain:"yogiraj-weds-pranita.firebaseapp.com",databaseURL:"https://yogiraj-weds-pranita.firebaseio.com",storageBucket:"yogiraj-weds-pranita.appspot.com",messagingSenderId:"230525947412"};firebase.initializeApp(config);var ywpApp=angular.module("ywpApp",["ui.router","ngAnimate"]);ywpApp.config(["$stateProvider","$urlRouterProvider",function(e,a){e.state("welcome",{url:"/welcome",templateUrl:"templates/welcome.html",controller:"WelcomeController"}).state("wedding",{url:"/wedding",templateUrl:"templates/wedding.html",controller:"WeddingController"}),a.otherwise("/welcome")}]),ywpApp.directive("repeatDone",function(){return function(e,a,t){e.$last&&e.$eval(t.repeatDone)}}),ywpApp.controller("WelcomeController",["$scope","$state","$timeout",function(e,a,t){navInvitation=function(){a.go("wedding")},t(navInvitation,3e3)}]),ywpApp.controller("WeddingController",["$scope",function(e){e.init=function(){e.users={messages:[]};var a=firebase.database(),t=a.ref("users");t.once("value").then(function(a){a.forEach(function(a){var t=a.val();e.users.messages.push(t)}),e.$apply()})},e.googleSignIn=function(){var a=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(a).then(function(a){a.credential.accessToken;e.user={uid:a.user.uid,displayName:a.user.displayName,email:a.user.email,photoUrl:a.user.photoURL},e.$apply(),$("#myModal").modal("show")}).catch(function(e){})},e.saveData=function(){e.user.message=e.messageContent;var a=firebase.database();a.ref("users/"+e.user.uid).set(e.user).then(function(a){var t=firebase.database(),n=t.ref("users");n.once("value").then(function(a){e.users.messages.length=0,a.forEach(function(a){var t=a.val();e.users.messages.push(t)}),e.$apply()}),firebase.auth().signOut().then(function(){e.$apply(),$("#myModal").modal("toggle")},function(e){})})},e.changeNotifier=function(){$("#notifier").val("true").trigger("change")},e.init()}]);
